<% content_for :title, "Paramètres" %>

<div class="settings-container">
  <div class="settings-card">
    <h1 class="settings-title">Paramètres</h1>

    <%= simple_form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put, class: "settings-form" }) do |f| %>
      <%= f.error_notification message: "Erreur :" %>

      <div class="settings-section">
        <span class="settings-label">Email</span>
        <%= f.input :email, label: false, placeholder: "votre@email.com", wrapper: false, input_html: { class: "settings-input" } %>
      </div>

      <div class="settings-section">
        <span class="settings-label">Mot de passe actuel</span>
        <%= f.input :current_password, label: false, placeholder: "Requis pour sauvegarder", wrapper: false, input_html: { class: "settings-input", autocomplete: "current-password" } %>
      </div>

      <div class="settings-row">
        <div class="settings-section settings-half">
          <span class="settings-label">Nouveau mdp</span>
          <%= f.input :password, label: false, placeholder: "Optionnel", wrapper: false, input_html: { class: "settings-input", autocomplete: "new-password" } %>
        </div>
        <div class="settings-section settings-half">
          <span class="settings-label">Confirmer</span>
          <%= f.input :password_confirmation, label: false, placeholder: "Confirmer", wrapper: false, input_html: { class: "settings-input", autocomplete: "new-password" } %>
        </div>
      </div>

      <div class="settings-toggle">
        <%= f.input :geolocation_enabled, as: :boolean, label: false, wrapper: false, input_html: { class: "settings-checkbox" } %>
        <span class="settings-toggle-label">Localisation activée</span>
      </div>

      <%= f.button :submit, "Enregistrer", class: "settings-save-btn" %>
    <% end %>

    <div class="settings-actions">
      <%= link_to "Retour", root_path, class: "settings-btn-light", data: { turbo: false } %>
    </div>

    <div class="settings-danger">
      <%= button_to "Supprimer mon compte", registration_path(resource_name),
          method: :delete,
          data: { turbo_confirm: "Supprimer definitivement ?" },
          class: "settings-delete-btn" %>
    </div>
  </div>
</div>
