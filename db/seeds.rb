require "json"
require "open-uri"

puts "Cleaning database..."
puts ""
Point.destroy_all
MeetUp.destroy_all
Participation.destroy_all
Walking.destroy_all
User.destroy_all
puts "Done."
puts ""
puts "Creating seed user..."

user1 = User.create!(
  email: "didier@demo.com",
  password: "demodemo",
)

user2 = User.create!(
  email: "carol@demo.com",
  password: "demodemo",
)

user3 = User.create!(
  email: "benoit@demo.com",
  password: "demodemo",
)

user4 = User.create!(
  email: "igor@demo.com",
  password: "demodemo",
)

puts "the user with the #{user1.email} has been created!"
puts "the user with the #{user2.email} has been created!"

Tag.destroy_all
puts "Creating tags for dogs' personalities..."

croket = Dog.create!(
  name: "Croket",
  size: "Petit",
  age: 3,
  race: "Chihuahua",
  url_picture: "chihuahua.jpeg",
  user: user1,
)

puts "#{croket.name} has been created!"

luna = Dog.create!(
  name: "Luna",
  size: "Grand",
  age: 6,
  race: "Saint Bernard",
  url_picture: "saint-bernard.png",
  user: user2,
)

puts "#{croket.name} has been created!"

viktor = Dog.create!(
  name: "Viktor",
  size: "Moyen",
  age: 1,
  race: "Cocker Spaniel",
  url_picture: "cocker-spaniel.jpg",
  user: user3,
)
puts "#{viktor.name} has been created!"

pilou = Dog.create!(
  name: "Pilou",
  size: "Petit",
  age: 5,
  race: "Cairn Terrier",
  url_picture: "cairn-terrier.png",
  user: user4,
)

puts "#{pilou.name} has been created!"

dogs_tags = ["Amical", "Calme", "Joueur", "Énergique", "Protecteur", "Timide"]

puts "Creating tags..."
tags = dogs_tags.map do |tag_name|
  Tag.create!(name: tag_name)
end

puts "All tags have been created!"

puts "Associating tags to dogs..."

luna.tags << tags[4]
luna.tags << tags[5]
croket.tags << tags[0]
croket.tags << tags[2]
pilou.tags << tags[1]
pilou.tags << tags[3]
viktor.tags << tags[0]
viktor.tags << tags[2]

puts "Tags have been associated!"

#API_Meet_up_points_url = "https://data.grandlyon.com/fr/geoserv/ogc/features/v1/collections/metropole-de-lyon:com_donnees_communales.comparcjardin_1_0_0/items?&crs=EPSG:4171&f=application/geo%2Bjson&limit=60&startIndex=0&sortby=gid"

#url = API_Meet_up_points_url
#user_serialized = URI.parse(url).read

filepath = Rails.root.join("app", "assets", "meetup_point_list", "metropole-de-lyon_com_donnees_communales.comparcjardin_1_0_0-2.json")
user_serialized = File.read(filepath)
user = JSON.parse(user_serialized)

user["features"].each do |point|
  bbox = point["bbox"] # [minLng, minLat, maxLng, maxLat]
  center_lng = (bbox[0] + bbox[2]) / 2.0
  center_lat = (bbox[1] + bbox[3]) / 2.0
  #p point["geometry"]["coordinates"]
  puts "the point => #{point["properties"]["nom"]} has been created!"
  instance_point = Point.create!(
    name: point["properties"]["nom"],
    longitude: center_lng,
    latitude: center_lat,
  )
end

point = Point.find_by(name: "Square de Thou")
point.update(url_picture: "rue-de-thou.jpg")
puts "#{point.name} updated"
marechal = Point.find_by(name: "Place Maréchal Lyautey")
marechal.update(url_picture: "21188192.jpg")
puts "#{point.name} updated"
point = Point.find_by(name: "Jardin du palais Saint Pierre")
point.update(url_picture: "jardins-2-1600x1067.jpeg")
puts "#{point.name} updated"
tetedor = Point.find_by(name: "Parc de la Tête d'Or")
tetedor.update(url_picture: "Parc_de_la_Tête_d'Or_Vue_sur_le_lac7.jpg")
tetedor.update(longitude: 4.845573593206147)
tetedor.update(latitude: 45.777356001313436)
puts "#{tetedor.name} updated"

grandecote = Point.find_by(name: "Jardin de la Grande Côte")
grandecote.update(url_picture: "jardin-de-la-grande-cote.jpg")
puts "#{grandecote.name} updated"

breti = Point.find_by(name: "Parc du Brétillod")
breti.update(longitude: 4.844462907019957)
breti.update(latitude: 45.77944069836079)

cite = Point.find_by(name: "Parc du Brétillod")
cite.update(longitude: 4.851952545580239)
cite.update(latitude: 45.78242254040114)

saone = Point.find_by(name: "Parc du Brétillod")
saone.update(longitude: 4.822366503103803)
saone.update(latitude: 45.76813221059604)

puts "Created #{Point.count} meet-up points."

# meetups = MeetUp.all

# user1participation = Participation.create!(
#   user: user1,
#   meet_up: meetups[0]
# )

# user2participation = Participation.create!(
#   user: user2,
#   meet_up: meetups[1]
# )

# user3participation = Participation.create!(
#   user: user3,
#   meet_up: meetups[2]
# )

puts "Meet-ups and participations have been created!"

puts "creating a fake user"

john = User.create!(
  email: "john@demo.com",
  password: "demodemo",
)

fifi = Dog.create!(
  name: "Fifi",
  size: "Moyen",
  age: 2,
  race: "Border Collie",
  url_picture: "bordercollie.webp",
  user: john,
)
fifi.tags << tags[0]
fifi.tags << tags[3]

puts "John and his dog Fifi have been created!"

Walking.create!(
  created_at: 1.days.ago.change(hour: 17, min: 24),
  coordinates: [[4.844889, 45.774659], [4.844912, 45.774535], [4.844914, 45.77446], [4.844922, 45.774455], [4.844996, 45.774462], [4.845062, 45.774467], [4.845083, 45.774466], [4.845131, 45.774462], [4.846077, 45.774553], [4.846149, 45.774568], [4.846177, 45.774572], [4.846243, 45.774578], [4.8463, 45.774584], [4.846313, 45.774583], [4.84636, 45.774577], [4.846957, 45.774634], [4.846997, 45.774666], [4.847021, 45.774651], [4.847097, 45.774658], [4.847139, 45.774662], [4.847165, 45.774661], [4.847212, 45.77466], [4.847814, 45.77471], [4.847847, 45.774726], [4.847874, 45.774768], [4.847889, 45.774814], [4.847938, 45.774814], [4.847987, 45.774796], [4.848028, 45.774781], [4.848083, 45.774764], [4.848114, 45.774798], [4.848153, 45.774842], [4.848188, 45.77488], [4.84822, 45.774915], [4.849292, 45.774411], [4.84992, 45.774109], [4.850331, 45.773923], [4.850789, 45.773717], [4.851357, 45.77346], [4.851427, 45.773539], [4.851628, 45.773458], [4.851649, 45.773484], [4.851652, 45.773488], [4.851674, 45.77351], [4.85173, 45.773507], [4.851748, 45.773507], [4.851793, 45.773526], [4.851864, 45.773603], [4.851793, 45.773526], [4.851794, 45.773491], [4.851801, 45.773485], [4.851813, 45.773476], [4.851819, 45.773429], [4.851814, 45.773424], [4.851811, 45.77342], [4.851787, 45.773394], [4.851991, 45.773312], [4.851918, 45.773229], [4.851908, 45.773217], [4.851894, 45.773201], [4.851851, 45.773152], [4.85182, 45.773115], [4.851811, 45.773106], [4.851798, 45.773088], [4.85178, 45.77307], [4.851773, 45.773062], [4.851761, 45.773037], [4.851743, 45.773005], [4.851755, 45.772948], [4.851834, 45.772535], [4.851844, 45.772536], [4.851847, 45.772522], [4.851852, 45.772496], [4.851855, 45.772476], [4.851857, 45.772464], [4.851852, 45.772464], [4.851884, 45.772266], [4.851897, 45.772226], [4.851903, 45.772202], [4.851908, 45.772178], [4.851914, 45.772149], [4.851924, 45.7721], [4.851932, 45.772036], [4.852032, 45.771537], [4.852043, 45.771489], [4.852049, 45.771464], [4.852055, 45.771441], [4.852065, 45.7714], [4.852065, 45.771385], [4.852065, 45.771359], [4.852121, 45.771078], [4.852139, 45.771025], [4.852148, 45.770998], [4.852152, 45.770983], [4.852157, 45.77096], [4.852156, 45.77093], [4.852155, 45.770865], [4.852255, 45.770355], [4.852267, 45.770326], [4.852275, 45.770302], [4.852282, 45.770275], [4.852286, 45.770262], [4.85229, 45.770239], [4.852282, 45.770239], [4.852285, 45.770224], [4.852399, 45.769576], [4.852423, 45.769544], [4.852459, 45.769518], [4.852467, 45.76949], [4.852473, 45.769457], [4.852476, 45.769443], [4.852447, 45.76944], [4.85245, 45.769423], [4.852558, 45.76878], [4.85256, 45.768765], [4.852587, 45.768767], [4.852591, 45.768748], [4.852597, 45.768718], [4.8526, 45.768703], [4.852597, 45.768665], [4.852668, 45.768685], [4.852879, 45.768705], [4.852668, 45.768685], [4.852597, 45.768665], [4.852595, 45.76862], [4.852665, 45.768266], [4.852695, 45.768101], [4.852706, 45.768073], [4.852667, 45.768075], [4.852631, 45.768072], [4.852583, 45.768067], [4.852543, 45.768058], [4.852542, 45.768028], [4.852547, 45.768002], [4.852549, 45.767987], [4.852571, 45.767959], [4.852549, 45.767961], [4.850937, 45.76782], [4.850929, 45.767813], [4.850897, 45.767778], [4.850964, 45.767437], [4.85097, 45.767424], [4.85098, 45.767398], [4.850985, 45.767376], [4.85099, 45.767357], [4.850997, 45.767321], [4.851098, 45.766717], [4.851104, 45.766686], [4.851063, 45.766676], [4.851037, 45.766674], [4.850889, 45.76666], [4.850723, 45.766645], [4.850689, 45.766642], [4.850632, 45.766648], [4.850641, 45.766616], [4.850646, 45.766591], [4.85065, 45.766567], [4.850669, 45.766525], [4.850745, 45.766118], [4.850749, 45.766096], [4.850752, 45.766079], [4.850756, 45.766058], [4.850761, 45.76603], [4.85073, 45.766027], [4.850582, 45.766013], [4.849741, 45.765939], [4.84969, 45.765928], [4.849681, 45.765887], [4.849747, 45.765585], [4.849758, 45.765513], [4.849765, 45.765483], [4.849771, 45.765451], [4.849773, 45.765443], [4.849784, 45.765395], [4.849707, 45.765387], [4.849795, 45.76495], [4.849811, 45.764867], [4.849817, 45.764811], [4.849917, 45.764821], [4.849817, 45.764811], [4.849613, 45.76479], [4.849363, 45.764764], [4.849312, 45.76476], [4.849273, 45.764756], [4.849013, 45.764733], [4.848234, 45.764665], [4.848187, 45.764661], [4.848109, 45.764654], [4.848012, 45.764646], [4.84695, 45.764559], [4.846872, 45.764552], [4.846837, 45.764549], [4.846793, 45.764545], [4.846134, 45.764482], [4.846089, 45.764477], [4.845847, 45.764454], [4.845757, 45.764447], [4.844941, 45.76438], [4.844792, 45.764368], [4.844654, 45.764355], [4.843814, 45.76428], [4.843743, 45.764274], [4.843697, 45.76427], [4.84366, 45.764267], [4.842962, 45.764209], [4.842892, 45.764203], [4.842892, 45.764203], [4.842778, 45.764757], [4.842744, 45.764753], [4.842704, 45.764755], [4.842694, 45.764786], [4.842688, 45.764812], [4.842684, 45.764827], [4.842684, 45.764855], [4.842661, 45.764848], [4.841765, 45.764766], [4.841641, 45.76571], [4.841637, 45.765741], [4.841632, 45.765762], [4.841628, 45.765775], [4.841623, 45.7658], [4.841613, 45.765825], [4.841535, 45.76644], [4.841534, 45.766455], [4.841532, 45.766482], [4.841529, 45.766503], [4.841527, 45.766518], [4.84152, 45.766544], [4.841508, 45.76659], [4.84135, 45.767625], [4.841316, 45.767607], [4.841277, 45.767605], [4.841227, 45.767602], [4.841193, 45.7676], [4.841176, 45.767599], [4.841073, 45.768259], [4.841016, 45.76833], [4.84098, 45.768529], [4.840908, 45.768564], [4.840908, 45.768581], [4.840907, 45.768597], [4.840905, 45.768614], [4.840905, 45.768622], [4.840964, 45.768622], [4.840964, 45.768635], [4.840964, 45.768657], [4.840963, 45.768684], [4.840943, 45.768717], [4.840984, 45.768778], [4.840908, 45.769288], [4.840827, 45.769335], [4.840827, 45.769335], [4.840834, 45.769773], [4.840841, 45.769918], [4.840851, 45.770307], [4.840849, 45.771363], [4.84087, 45.771364], [4.840885, 45.771365], [4.840901, 45.771366], [4.840924, 45.771367], [4.840946, 45.771368], [4.840966, 45.77137], [4.840986, 45.771371], [4.840998, 45.771503], [4.840993, 45.771607], [4.840978, 45.771919], [4.841018, 45.77218], [4.84107, 45.772175], [4.841097, 45.772172], [4.841137, 45.772169], [4.841178, 45.772166], [4.841249, 45.77217], [4.841326, 45.772184], [4.841383, 45.772199], [4.841425, 45.772206], [4.841413, 45.772243], [4.841404, 45.772268], [4.841399, 45.772301], [4.841395, 45.772322], [4.841392, 45.772343], [4.84139, 45.772375], [4.841378, 45.772425], [4.841375, 45.772439], [4.842066, 45.7725], [4.842088, 45.772502], [4.842102, 45.772504], [4.842154, 45.772509], [4.842226, 45.772514], [4.842247, 45.772516], [4.842675, 45.772554], [4.8427, 45.772564], [4.842747, 45.772568], [4.842778, 45.772563], [4.84289, 45.772575], [4.842916, 45.772584], [4.842983, 45.772602], [4.843063, 45.77261], [4.843129, 45.772616], [4.843215, 45.772611], [4.843278, 45.772607], [4.8441, 45.772686], [4.844194, 45.772692], [4.844201, 45.772727], [4.844082, 45.773341], [4.84407, 45.773354], [4.844054, 45.773374], [4.844048, 45.773403], [4.844043, 45.773425], [4.844048, 45.773452], [4.844092, 45.773467], [4.844131, 45.77347], [4.844172, 45.773474], [4.844215, 45.773471], [4.844196, 45.773509], [4.844068, 45.774192], [4.844081, 45.774264], [4.844122, 45.774275], [4.844395, 45.774301], [4.844866, 45.774346], [4.844943, 45.774352], [4.844942, 45.774356], [4.844933, 45.774399], [4.844922, 45.774455], [4.844914, 45.77446], [4.844912, 45.774535], [4.844889, 45.774659]],
  duration: 49,
  distance: 4.09,
  user: john,
)

Walking.create!(
  created_at: 5.days.ago.change(hour: 15, min: 24),
  coordinates: [[4.844889, 45.774659], [4.844912, 45.774535], [4.844914, 45.77446], [4.844922, 45.774455], [4.844933, 45.774399], [4.844942, 45.774356], [4.844943, 45.774352], [4.844955, 45.774348], [4.844959, 45.774334], [4.845091, 45.773604], [4.845091, 45.773549], [4.845089, 45.773519], [4.845092, 45.773498], [4.845096, 45.77347], [4.845105, 45.773444], [4.845121, 45.773393], [4.84523, 45.77282], [4.845226, 45.772786], [4.845221, 45.77276], [4.845228, 45.772724], [4.845232, 45.7727], [4.845235, 45.772684], [4.845243, 45.772654], [4.845246, 45.772622], [4.845261, 45.772604], [4.845274, 45.772583], [4.845304, 45.772438], [4.845289, 45.772406], [4.845383, 45.771977], [4.845395, 45.771927], [4.845402, 45.7719], [4.84542, 45.771879], [4.845431, 45.771831], [4.84544, 45.771791], [4.845508, 45.771357], [4.845513, 45.771299], [4.845518, 45.771266], [4.845525, 45.771226], [4.845527, 45.771221], [4.845555, 45.771185], [4.845603, 45.770916], [4.845594, 45.770885], [4.84559, 45.770872], [4.845596, 45.770841], [4.845601, 45.770817], [4.845625, 45.770786], [4.845635, 45.770773], [4.84569, 45.770448], [4.845685, 45.770414], [4.845678, 45.770382], [4.845683, 45.770366], [4.845687, 45.770351], [4.845708, 45.77031], [4.845721, 45.77027], [4.845804, 45.769851], [4.845821, 45.769762], [4.845821, 45.769718], [4.845822, 45.769695], [4.845827, 45.76967], [4.845832, 45.769649], [4.845848, 45.769627], [4.845949, 45.769081], [4.845951, 45.769061], [4.845952, 45.769052], [4.845957, 45.769024], [4.845969, 45.768949], [4.845982, 45.768889], [4.845991, 45.768846], [4.846004, 45.768766], [4.846008, 45.768747], [4.84601, 45.768734], [4.846017, 45.768708], [4.84599, 45.768712], [4.845876, 45.768701], [4.845109, 45.768626], [4.845085, 45.768622], [4.845053, 45.768618], [4.845011, 45.768613], [4.844976, 45.768616], [4.844115, 45.76853], [4.844081, 45.768524], [4.844052, 45.768514], [4.843918, 45.7685], [4.843855, 45.768494], [4.843786, 45.768496], [4.843527, 45.76848], [4.843034, 45.768442], [4.842983, 45.768438], [4.842941, 45.768434], [4.842883, 45.76843], [4.842833, 45.768429], [4.842768, 45.768763], [4.842731, 45.768752], [4.842518, 45.768734], [4.841938, 45.768685], [4.841925, 45.768705], [4.841918, 45.768705], [4.841905, 45.768704], [4.841896, 45.768703], [4.841887, 45.768682], [4.841572, 45.768656], [4.841534, 45.768652], [4.841523, 45.768664], [4.841509, 45.768663], [4.841496, 45.768663], [4.84148, 45.768661], [4.841468, 45.768646], [4.841376, 45.768636], [4.841376, 45.76863], [4.84136, 45.768622], [4.841362, 45.768612], [4.84138, 45.768598], [4.841278, 45.768579], [4.841253, 45.768577], [4.841214, 45.768574], [4.841159, 45.76857], [4.841102, 45.768566], [4.841086, 45.768565], [4.84109, 45.768536], [4.841081, 45.768536], [4.841063, 45.768534], [4.841039, 45.768533], [4.841027, 45.768532], [4.84098, 45.768529], [4.840908, 45.768564], [4.840789, 45.768574], [4.84004, 45.768562], [4.839396, 45.768559], [4.838396, 45.768548], [4.838364, 45.768547], [4.838326, 45.768507], [4.838293, 45.768508], [4.838233, 45.768508], [4.838233, 45.768462], [4.838234, 45.76842], [4.838239, 45.768258], [4.838246, 45.768134], [4.838248, 45.768088], [4.838249, 45.768071], [4.838267, 45.767821], [4.838219, 45.767811], [4.838036, 45.767782], [4.838219, 45.767811], [4.838267, 45.767821], [4.838249, 45.768071], [4.838248, 45.768088], [4.838246, 45.768134], [4.838185, 45.768129], [4.837974, 45.768113], [4.837893, 45.768107], [4.8378, 45.768098], [4.837773, 45.768105], [4.837772, 45.768112], [4.837771, 45.768126], [4.837688, 45.768118], [4.837432, 45.768095], [4.837429, 45.768118], [4.837419, 45.768166], [4.837395, 45.768335], [4.836629, 45.768127], [4.836233, 45.76802], [4.836165, 45.76802], [4.836, 45.768006], [4.835834, 45.767986], [4.835822, 45.767961], [4.835824, 45.76795], [4.835828, 45.767932], [4.83583, 45.767916], [4.835833, 45.767903], [4.835806, 45.767914], [4.835785, 45.767923], [4.83557, 45.767904], [4.835384, 45.767883], [4.834238, 45.767787], [4.834109, 45.767809], [4.832837, 45.767675], [4.832787, 45.767709], [4.832765, 45.767709], [4.832739, 45.76771], [4.83269, 45.767714], [4.83268, 45.76769], [4.832597, 45.767677], [4.832173, 45.767615], [4.832117, 45.767979], [4.832091, 45.76806], [4.832095, 45.768086], [4.832098, 45.768101], [4.832098, 45.768136], [4.832097, 45.76816], [4.832098, 45.768167], [4.83203, 45.768299], [4.831933, 45.768525], [4.831796, 45.768854], [4.831868, 45.768881], [4.832316, 45.768962], [4.832343, 45.768967], [4.833037, 45.769105], [4.83396, 45.769286], [4.833989, 45.769291], [4.833995, 45.769292], [4.834021, 45.769279], [4.834072, 45.76926], [4.834117, 45.769255], [4.834144, 45.769258], [4.834159, 45.769263], [4.834183, 45.76927], [4.834192, 45.769274], [4.834198, 45.769277], [4.834221, 45.769302], [4.834245, 45.769346], [4.834262, 45.769349], [4.834961, 45.769487], [4.834996, 45.769494], [4.835024, 45.769499], [4.835048, 45.769503], [4.835077, 45.769508], [4.835085, 45.769509], [4.835086, 45.769519], [4.835072, 45.769545], [4.835064, 45.769561], [4.835062, 45.769565], [4.835107, 45.769575], [4.835594, 45.76967], [4.835641, 45.769675], [4.835724, 45.769694], [4.83574, 45.769702], [4.835872, 45.769828], [4.835883, 45.769825], [4.835916, 45.769816], [4.83596, 45.769886], [4.835997, 45.769917], [4.836063, 45.769973], [4.836082, 45.76999], [4.83621, 45.770108], [4.836361, 45.770242], [4.836576, 45.770431], [4.83665, 45.770491], [4.836704, 45.770523], [4.836742, 45.770537], [4.836719, 45.7706], [4.836711, 45.770675], [4.836677, 45.770936], [4.836697, 45.771036], [4.836803, 45.771441], [4.836768, 45.771446], [4.836751, 45.771448], [4.836758, 45.771478], [4.836765, 45.7715], [4.836778, 45.77155], [4.83692, 45.772108], [4.836931, 45.772156], [4.836949, 45.772154], [4.836972, 45.772152], [4.836991, 45.772149], [4.837027, 45.772145], [4.837039, 45.772196], [4.837068, 45.772314], [4.837082, 45.772339], [4.837063, 45.772344], [4.83704, 45.772351], [4.837072, 45.77239], [4.837293, 45.772384], [4.837598, 45.772379], [4.837637, 45.772379], [4.837745, 45.772379], [4.837755, 45.772392], [4.837818, 45.772476], [4.837825, 45.772484], [4.837982, 45.772472], [4.838407, 45.772439], [4.838423, 45.772416], [4.838502, 45.772405], [4.838539, 45.772435], [4.838588, 45.772475], [4.838897, 45.772451], [4.840449, 45.772327], [4.840982, 45.772285], [4.841145, 45.772278], [4.841374, 45.772299], [4.841399, 45.772301], [4.841414, 45.772302], [4.842004, 45.772357], [4.842061, 45.772362], [4.842066, 45.772362], [4.842091, 45.772365], [4.842181, 45.772373], [4.842289, 45.772383], [4.842311, 45.772385], [4.842586, 45.77241], [4.842648, 45.772416], [4.842842, 45.772434], [4.842914, 45.77244], [4.84295, 45.772443], [4.843094, 45.772457], [4.843245, 45.772471], [4.843597, 45.772503], [4.844128, 45.772552], [4.844167, 45.772555], [4.844209, 45.772559], [4.844305, 45.772568], [4.844389, 45.772576], [4.845169, 45.772647], [4.845212, 45.772651], [4.845243, 45.772654], [4.845235, 45.772684], [4.845232, 45.7727], [4.845228, 45.772724], [4.845221, 45.77276], [4.845226, 45.772786], [4.845253, 45.772788], [4.845307, 45.772793], [4.845374, 45.772798], [4.845403, 45.772801], [4.845377, 45.772844], [4.845315, 45.773175], [4.845265, 45.773442], [4.845267, 45.773462], [4.845271, 45.773486], [4.845267, 45.773513], [4.845263, 45.773535], [4.84525, 45.773565], [4.845206, 45.773566], [4.845164, 45.773563], [4.845131, 45.773561], [4.845091, 45.773549], [4.845091, 45.773604], [4.844959, 45.774334], [4.844955, 45.774348], [4.844943, 45.774352], [4.844942, 45.774356], [4.844933, 45.774399], [4.844922, 45.774455], [4.844914, 45.77446], [4.844912, 45.774535], [4.844889, 45.774659]],
  duration: 44,
  distance: 3.72,
  user: john,
)

Walking.create!(
  created_at: 3.days.ago.change(hour: 19, min: 24),
  coordinates: [[4.845169, 45.777152], [4.845263, 45.777143], [4.845269, 45.777142], [4.845329, 45.777135], [4.845337, 45.777137], [4.845346, 45.777139], [4.845375, 45.777147], [4.84536, 45.777286], [4.845569, 45.777571], [4.846078, 45.77802], [4.846306, 45.778222], [4.847054, 45.77888], [4.848602, 45.780112], [4.848782, 45.780205], [4.848954, 45.780302], [4.84933, 45.7805], [4.849756, 45.78065], [4.850076, 45.780825], [4.850302, 45.780986], [4.85043, 45.781101], [4.850475, 45.78115], [4.850755, 45.781457], [4.850807, 45.781516], [4.85093, 45.781598], [4.851067, 45.781689], [4.851231, 45.781794], [4.851265, 45.781816], [4.851271, 45.781819], [4.851543, 45.781968], [4.851565, 45.781978], [4.851823, 45.782095], [4.85215, 45.782221], [4.852965, 45.782562], [4.853363, 45.782717], [4.853443, 45.782748], [4.8536, 45.782835], [4.853684, 45.782881], [4.853715, 45.782898], [4.854011, 45.783071], [4.854111, 45.78313], [4.854678, 45.783591], [4.854986, 45.783869], [4.855311, 45.784044], [4.855462, 45.784094], [4.855633, 45.784131], [4.856068, 45.784117], [4.856176, 45.784109], [4.856297, 45.784067], [4.856318, 45.78406], [4.856311, 45.783876], [4.856322, 45.783685], [4.856445, 45.783539], [4.856622, 45.78343], [4.856742, 45.783349], [4.856951, 45.783221], [4.857061, 45.783145], [4.857209, 45.783042], [4.857387, 45.782863], [4.857487, 45.782745], [4.857516, 45.782678], [4.857707, 45.782702], [4.857929, 45.782756], [4.858101, 45.782821], [4.858303, 45.782612], [4.858433, 45.782408], [4.858526, 45.782116], [4.858545, 45.781953], [4.858622, 45.781324], [4.858627, 45.781266], [4.85867, 45.780823], [4.858681, 45.780314], [4.858676, 45.779718], [4.858673, 45.779591], [4.858653, 45.779126], [4.858609, 45.778935], [4.856764, 45.778407], [4.856774, 45.778372], [4.856777, 45.778362], [4.856787, 45.778335], [4.856825, 45.778272], [4.856893, 45.778267], [4.857201, 45.778246], [4.857409, 45.778361], [4.857598, 45.778444], [4.85807, 45.778417], [4.858126, 45.77837], [4.858187, 45.778287], [4.858207, 45.778208], [4.858187, 45.778287], [4.858126, 45.77837], [4.85807, 45.778417], [4.857598, 45.778444], [4.857409, 45.778361], [4.857201, 45.778246], [4.856893, 45.778267], [4.856825, 45.778272], [4.856787, 45.778335], [4.856777, 45.778362], [4.856774, 45.778372], [4.856764, 45.778407], [4.85599, 45.778173], [4.85556, 45.778044], [4.855465, 45.778125], [4.855451, 45.778184], [4.855446, 45.778239], [4.855403, 45.778374], [4.855379, 45.778418], [4.855099, 45.778446], [4.854829, 45.778414], [4.854454, 45.77832], [4.853819, 45.778206], [4.853826, 45.778319], [4.853821, 45.77842], [4.853585, 45.778397], [4.853356, 45.778358], [4.853053, 45.778287], [4.852779, 45.77818], [4.85252, 45.778098], [4.85238, 45.778053], [4.852146, 45.778047], [4.851763, 45.778043], [4.851619, 45.778054], [4.851666, 45.778086], [4.851619, 45.778054], [4.851763, 45.778043], [4.852146, 45.778047], [4.85238, 45.778053], [4.85252, 45.778098], [4.852457, 45.778033], [4.852378, 45.777955], [4.852332, 45.777911], [4.852239, 45.777893], [4.851561, 45.777911], [4.851484, 45.777915], [4.850941, 45.777941], [4.85064, 45.777953], [4.850424, 45.777924], [4.850305, 45.777894], [4.849932, 45.777801], [4.849362, 45.777676], [4.849195, 45.777639], [4.848718, 45.777567], [4.848361, 45.777537], [4.848102, 45.777532], [4.847737, 45.777558], [4.847702, 45.777556], [4.847675, 45.777563], [4.847237, 45.777618], [4.847082, 45.777617], [4.84696, 45.777602], [4.846744, 45.777561], [4.846655, 45.777563], [4.846363, 45.777406], [4.846199, 45.777304], [4.846207, 45.777254], [4.846061, 45.777245], [4.845856, 45.777235], [4.84536, 45.777286], [4.845375, 45.777147], [4.845346, 45.777139], [4.845337, 45.777137], [4.845329, 45.777135], [4.845269, 45.777142], [4.845263, 45.777143], [4.845169, 45.777152]],
  duration: 35,
  distance: 3.51,
  user: john,
)

marechalmeetup = MeetUp.create!(
  point: marechal,
)

grandecotemeetup = MeetUp.create!(
  point: grandecote,
)

Participation.create!(
  meet_up: marechalmeetup,
  user: user4,
)

Participation.create!(
  meet_up: marechalmeetup,
  user: user3,
)

Participation.create!(
  meet_up: marechalmeetup,
  user: user1,
)

Participation.create!(
  meet_up: grandecotemeetup,
  user: user2,
)

# meetu up pour l'historique
marechalmeetup = MeetUp.create!(
  created_at: 4.days.ago.change(hour: 19, min: 24),
  point: marechal,
)

Participation.create!(
  created_at: 4.days.ago.change(hour: 19, min: 24),
  meet_up: marechalmeetup,
  user: john,
)
Participation.create!(
  created_at: 4.days.ago.change(hour: 19, min: 35),
  meet_up: marechalmeetup,
  user: user4,
)

Participation.create!(
  created_at: 4.days.ago.change(hour: 19, min: 38),
  meet_up: marechalmeetup,
  user: user2,
)

# 2nd meetu up pour l'historique
grandecotemeetup = MeetUp.create!(
  created_at: 7.days.ago.change(hour: 17, min: 35),
  point: grandecote,
)

Participation.create!(
  created_at: 7.days.ago.change(hour: 17, min: 35),
  meet_up: grandecotemeetup,
  user: john,
)

Participation.create!(
  created_at: 7.days.ago.change(hour: 19, min: 50),
  meet_up: grandecotemeetup,
  user: user1,
)
Participation.create!(
  created_at: 7.days.ago.change(hour: 17, min: 45),
  meet_up: grandecotemeetup,
  user: user2,
)

Participation.create!(
  created_at: 7.days.ago.change(hour: 19, min: 50),
  meet_up: grandecotemeetup,
  user: user3,
)

Participation.create!(
  created_at: 7.days.ago.change(hour: 17, min: 55),
  meet_up: grandecotemeetup,
  user: user4,
)
